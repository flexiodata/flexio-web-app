<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>biggrid - A flexible grid component build with jQuery</title>
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link href="../css/biggrid-all.css" rel="stylesheet">
  <body>
    <div id="app" style="position: fixed; top: 0; left: 0; right: 0; bottom: 0"></div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js" integrity="sha256-obZACiHd7gkOk9iIL/pimWMTJ4W/pBsKu+oZnSeBIek=" crossorigin="anonymous"></script>

    <script src="../../underscore.util.js"></script>
    <script src="../../jquery.util.js"></script>
    <script src="../../appgridmodel.js"></script>

    <script src="../biggrid.js"></script>
    <script src="../biggrid-plugin-defaultdropdown.js"></script>
    <script src="../biggrid-plugin-columnhighlight.js"></script>

    <script>
      var grid_model = null
      var grid_view = {}
      var grid = null

      var tryFetchGrid = function()
      {
        grid_view = {}

        grid_model = new window.FxAppGridModel({
          rowsUrl: 'https://localhost/api/v1/streams/krd30tnpf25t/content',
          colsUrl: 'https://localhost/api/v1/streams/krd30tnpf25t/content'
        })

        grid_model.getColumns({
          callback: function(res) {
            renderGrid(grid_model, grid_view)
          }
        })
      }

      var renderGrid = function(model, view)
      {
        var grid_opts = {
          model: model,
          showLoading: false,
          allowColumnRename: false,
          allowColumnDropdown: false,
          colInvalidWidth: 100,
          loadingOverlayText: 'Loading...'
        }

        grid = $('#app').biggrid(grid_opts).data('biggrid')
      }

      tryFetchGrid()
    </script>
  </body>
</html>
